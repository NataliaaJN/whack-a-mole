{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\n//          GLOBAL CONSTS         //\n// homepage\nconst homepageModal = document.querySelector('.js-homepageModal');\nconst title = document.querySelector('.js-title');\nconst startBtn = document.querySelector('.js-startBtn');\n\n// transition homepage to gamepage\nconst countDownPage = document.querySelector('.js-countDown__page');\nconst countDownParagraph = document.querySelector('.js-countDown');\n\n// gamepage\nconst gamePage = document.querySelector('.js-gamePage');\nconst logo = document.querySelector('.js-logo');\nconst timeLeftParagraph = document.querySelector('.js-timeLeft');\nconst scoreParagraph = document.querySelector('.js-score');\nconst playBtn = document.querySelector('.js-playBtn');\nconst pauseBtn = document.querySelector('.js-pauseBtn');\n\nconst holes = document.querySelectorAll('.js-hole');\nconst moles = document.querySelectorAll('.js-mole');\n\nconst cursor = document.querySelector('.js-cursor');\n\n// Pause game\nconst pauseModal = document.querySelector('.js-pauseModal');\nconst currentScore = document.querySelector('.js-currentScore');\nconst currentTimeLeft = document.querySelector('.js-currentTimeLeft');\nconst resumeGameBtn = document.querySelector('.js-resumeGameBtn');\n\n// Game over\nconst gameOverModal = document.querySelector('.js-gameOverModal');\nconst finalScore = document.querySelector('.js-finalScore');\nconst playAgainBtn = document.querySelector('.js-playAgainBtn');\nconst exitBtn = document.querySelector('.js-exitBtn');\n\nlet visibleModal = false;\nlet timeLeft = 20;\nlet score = 0;\nlet misses = 0;\n// let lastHole;\n// let highScore = 0;\n\n\n//          FUNCTIONS            //\n\n//   if(hole === lastHole){ // if thats the same one\n//     return getRandomHole(); // execute the function to get other hole (different from the last one)\n//   }\n\n// Get the time left\nconst getTimeLeft = () => {\n  if (timeLeft > 0) {\n    timeLeft--;\n    timeLeftParagraph.innerHTML = timeLeft;\n  }\n};\n\n// Update score\nconst updateScore = () => {\n  score += 10;\n  console.log(score);\n  scoreParagraph.innerHTML = score;\n};\n\n// Get random number\nconst getRandomNumber = (max) => {\n  return Math.ceil(Math.random() * max);\n};\n\nlet mole;\n// Get the random mole that will appear\nconst getRandomMole = () => {\n  let moleIndex = getRandomNumber(moles.length);\n  mole = moles[moleIndex];\n  //return hole? para poder sacar lo demás a otra función\n  mole.classList.add('popUp');\n\n  mole.addEventListener('click', updateScore);\n\n  setTimeout(() => {\n    mole.classList.remove('popUp');\n  }, 1100);\n};\n\n\n\n// Game over\nconst gameOver = () => {\n  gameOverModal.classList.remove('hidden');\n  finalScore.innerHTML = score;\n};\n\n// run game\nconst runGame = () => {\n  // si meto las clases en esta función, se me repiten con el setInterval\n  playBtn.classList.add('hidden');\n  pauseBtn.classList.remove('hidden');\n  //setInterval(getRandomMole, 700);\n  //setInterval(getTimeLeft, 1000);\n  getTimeLeft();\n  if (timeLeft > 0) {\n    getRandomMole();\n  } else {\n    gameOver();\n  }\n};\n\n\n\n//         START GAME        //\n// countdown\nlet countdown = 3;\n// countdown function\nconst getCountdown = () => {\n  if (countdown > 0){\n    countdown--;\n    countDownParagraph.innerHTML = countdown;\n  }\n};\n\n\nconst countdownToPlay = () => {\n  title.classList.add('hidden');\n  homepageModal.classList.add('hidden');\n  countDownParagraph.classList.remove('hidden');\n\n  // countdown = sec;\n  while(countdown > 0) {\n    countDownParagraph.innerHTML = countdown;\n    let timeToWakeUp = new Date().getTime() + 1500;\n    while (new Date().getTime() <= timeToWakeUp) {}\n    countdown--;\n    // setInterval(getCountdown, 1500);\n  }\n  countDownPage.classList.add('hidden');\n  gamePage.classList.remove('hidden');\n  logo.classList.remove('hidden');\n  runGame();\n  // if (countdown > 0) {\n  //   setInterval(getCountdown, 1500);\n  //   // countdown--;\n  //   // countDownParagraph.innerHTML = countdown;\n  // } else {\n  //   countDownPage.classList.add('hidden');\n  //   gamePage.classList.remove('hidden');\n  //   logo.classList.remove('hidden');\n  //   runGame();\n  // }\n};\n\n// Start game\nconst startGame = () => {\n  homepageModal.classList.add('hidden');\n  countDownPage.classList.remove('hidden');\n  // setInterval(countdownToPlay, 1500);\n  countdownToPlay();\n  score = 0;\n};\n\n// play again\nconst playAgain = () => {\n  gameOverModal.classList.add('hidden');\n  timeLeft = 20;\n  score = 0;\n  scoreParagraph.innerHTML = score;\n  //setInterval(countdownToPlay, 1000);\n  countdownToPlay();\n};\n\n// Pause game\nconst pauseGame = () => {\n  //clearInterval(getRandomMole);\n  timeLeftParagraph.innerHTML = timeLeft;\n  playBtn.classList.remove('hidden');\n  pauseBtn.classList.add('hidden');\n  pauseModal.classList.remove('hidden');\n  currentScore.innerHTML = score;\n  currentTimeLeft.innerHTML = timeLeft;\n};\n\n// Resume game\nconst resumeGame = () => {\n  playBtn.classList.add('hidden');\n  pauseBtn.classList.remove('hidden');\n  pauseModal.classList.add('hidden');\n  scoreParagraph.innerHTML = score;\n  timeLeftParagraph.innerHTML = timeLeft;\n  runGame();\n};\n\n// Exit game\nconst exitGame = () => {\n  homepageModal.classList.remove('hidden');\n  gamePage.classList.add('hidden');\n};\n\n//       LISTENERS       //\n// Start game\nstartBtn.addEventListener('click', startGame);\n// startBtn.addEventListener('click', () => {\n//   homepageModal.classList.add('hidden');\n//   countDownPage.classList.remove('hidden');\n//   // setInterval(countdownToPlay, 1500);\n//   countdownToPlay();\n//   score = 0;\n// });\n\n// Run game\nplayBtn.addEventListener('click', runGame);\n\n// Pause game\npauseBtn.addEventListener('click', pauseGame);\n\n// Resume game\nresumeGameBtn.addEventListener('click', resumeGame);\n\n// Play again\nplayAgainBtn.addEventListener('click', playAgain);\n\n// Exit game\nexitBtn.addEventListener('click', exitGame);\n\n\n//           MOVE CURSOR          //\nwindow.addEventListener('mousemove', (event) => {\n  cursor.style.top = event.pageY - 60 + 'px';\n  cursor.style.left = event.pageX - 75 + 'px';\n\n  // Hit mole\n  window.addEventListener('click', () => {\n    cursor.classList.add('hit');\n    setTimeout(() => cursor.classList.remove('hit'), 100);\n  });\n});\n"]}